# 小红书面试 
#### 职位：数据仓库工程师  
#### 时间：2018-7-4 19:00 马当路复兴soho

### 1.请介绍一下平安科技数据仓库的基本架构是怎么样的，各层的含义，存储的是什么数据

### 2.请描述一下mapreduce的处理过程

### 3.split切分的依据是什么

### 4.mapreduce的map过程中，map数是如何确定的，通过哪个参数可以设定

### 5.是不是数据量大，map数就多  

### 6.之前有没有遇到过数据倾斜，是怎么处理的？  

### 7.如何统计每天新增的订单数，订单数在宽边层又分区嘛？  

### 8.如果每天新增2000万订单，订单状态在180天内都会发生变化，该如何在数据仓库中存储数据，使得数据更新起来比较方便  

### 9.实时工具用过吗，python了解多少  

### 10.问题:  
```
有张表A(user_id,login_date),全量,一个user_id同一天只会有一条记录。
用sql实现,统计连续5天及以上登陆的user_id

```  

### 11.你们hive数据的存储格式是什么，ORC有什么优势？  
```
RC的全称是(Optimized Row Columnar)，ORC文件格式是一种Hadoop生态圈中的列式存储格式，用于降低Hadoop数据存储空间和加速Hive查询速度
它并不是一个单纯的列式存储格式，仍然是首先根据行组分割整个表，在每一个行组内进行按列存储。主要优势如下：
1.ORC是列式存储，有多种文件压缩方式，并且有着很高的压缩比。
2.文件是可切分（Split）的。因此，在Hive中使用ORC作为表的文件存储格式，不仅节省
  HDFS存储资源，查询任务的输入数据量减少，使用的MapTask也就减少了。
3.提供了多种索引，row group index、bloom filter index。
4.ORC可以支持复杂的数据结构（比如Map等）

```


